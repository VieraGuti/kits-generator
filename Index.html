<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kits Generator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="Items.js" defer></script>
</head>
<body>
    <div class="container">
        <h1>Kits Generator</h1>

        <div class="inventory">
            <div class="section-title">Wear</div>
            <div class="wear">
                <!-- 7 slots for wear -->
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </div>

            <div class="section-title">Main</div>
            <div class="main">
                <!-- 24 slots for main inventory (6x4 grid) -->
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </div>

            <div class="section-title">Belt</div>
            <div class="belt">
                <!-- 6 slots for belt -->
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                <div class="slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </div>
        </div>

        <button class="show-items-button" onclick="toggleItemList()">Mostrar ítems</button>

        <div class="item-list-container" id="itemListContainer">
            <div class="item-list">
                <h2 class="section-title">Selecciona una categoría:</h2>
                <select id="item_category" onchange="updateItemList()">
                    <option value="none">Select a category</option>
                    <option value="armas">Armas</option>
                    <option value="balas">Balas</option>
                    <option value="utilidades">Utilidades</option>
                    <option value="componentes">Componentes</option>
                </select>

                <h2 class="section-title">Selecciona un ítem:</h2>
                <select id="item_list" onchange="showItemDetails()">
                    <option value="none">Select an item</option>
                    <!-- Aquí se añadirán dinámicamente las opciones -->
                </select>

                <img id="item_image" class="item-image" src="" alt="Imagen del ítem" style="display:none;" />
            </div>
        </div>
    </div>

    <script>
        function updateItemList() {
            const category = document.getElementById("item_category").value;
            const itemList = document.getElementById("item_list");
            itemList.innerHTML = ""; // Limpiar la lista de ítems

            if (category !== "none") {
                items[category].forEach(item => {
                    const option = document.createElement("option");
                    option.value = item.id;
                    option.textContent = item.nombre;
                    itemList.appendChild(option);
                });
            }
        }

        function showItemDetails() {
            const selectedItem = document.getElementById("item_list").value;
            const itemImage = document.getElementById("item_image");
            const item = findItemById(selectedItem);
            
            if (item) {
                itemImage.src = item.imagen; // Actualizar la imagen
                itemImage.style.display = "block"; // Mostrar la imagen
            } else {
                itemImage.src = "";
                itemImage.style.display = "none"; // Ocultar la imagen
            }
        }

        function findItemById(itemId) {
            for (const category in items) {
                const item = items[category].find(i => i.id === itemId);
                if (item) return item;
            }
            return null; // No se encontró el ítem
        }
    </script>
</body>
</html>
