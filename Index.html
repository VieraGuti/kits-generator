<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kits Generator - Rust Style</title>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
    <style>
        body {
    font-family: 'Bungee', sans-serif; /* Fuente Bungee */
    background-color: #1e1e1e;
    color: #fff;
    margin: 0;
    padding: 20px;
}

h3 {
    text-align: center;
    color: #FF4500;
    text-shadow: 1px 1px 2px #000;
    margin-top: 20px;
}

.main-slots {
    display: grid;
    grid-template-columns: repeat(6, 1fr); /* 6 columnas para el inventario principal */
    gap: 10px; /* Espacio entre los slots */
    margin-top: 20px;
    padding: 10px;
    background-color: #1e1e1e;
    border: 2px solid #FF4500; 
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(255, 69, 0, 0.5); 
}

.small-slot {
    width: 50px;
    height: 50px;
    border: 2px solid #FF4500; 
    background-color: #222; 
    position: relative;
    text-align: center;
    border-radius: 5px; 
    transition: background-color 0.3s; 
}

.main-slot {
    width: 50px;
    height: 50px;
    border: 2px solid #FF4500; 
    background-color: #222; 
    position: relative;
    text-align: center;
    border-radius: 5px; 
    transition: background-color 0.3s, transform 0.2s; 
}

.main-slot:hover,
.small-slot:hover {
    background-color: #333; 
    transform: scale(1.05); 
}

.main-slot img,
.small-slot img {
    max-width: 100%; 
    max-height: 100%;
    border-radius: 5px;
}

.main-slot:empty::before,
.small-slot:empty::before {
    content: ' '; 
    background-color: rgba(255, 69, 0, 0.2); 
    width: 100%;
    height: 100%;
    border-radius: 5px;
    position: absolute;
    top: 0;
    left: 0;
}

#command_list {
    margin-top: 20px;
    padding: 10px;
    background-color: #292929;
    border: 2px solid #FF4500;
    border-radius: 10px;
}

    </style>
</head>
<body>
    <h1>Kits Generator</h1>

    <label for="kitName">Name of kit :</label>
    <input type="text" id="kitName" placeholder="Escribe el nombre del kit">

    <label for="kaosList">Select kit name:</label>
    <select id="kaosList">
        <option value="">-- Or choose it from KAOSBOT format --</option>
                <option value="freekit">freekit</option>
        <option value="freekit2">freekit2</option>
        <option value="vipkit">vipkit</option>
        <option value="elitekit">elitekit</option>
        <option value="elitekit1">elitekit1</option>
        <option value="elitekit2">elitekit2</option>
        <option value="elitekit3">elitekit3</option>
        <option value="elitekit4">elitekit4</option>
        <option value="elitekit5">elitekit5</option>
        <option value="elitekit6">elitekit6</option>
        <option value="elitekit7">elitekit7</option>
        <option value="elitekit8">elitekit8</option>
        <option value="elitekit9">elitekit9</option>
        <option value="elitekit10">elitekit10</option>
        <option value="elitekit11">elitekit11</option>
        <option value="elitekit12">elitekit12</option>
        <option value="elitekit13">elitekit13</option>
        <option value="elitekit14">elitekit14</option>
        <option value="elitekit15">elitekit15</option>
        <option value="elitekit16">elitekit16</option>
        <option value="elitekit17">elitekit17</option>
        <option value="elitekit18">elitekit18</option>
        <option value="elitekit19">elitekit19</option>
        <option value="elitekit20">elitekit20</option>
        <option value="elitekit21">elitekit21</option>
        <option value="elitekit22">elitekit22</option>
        <option value="elitekit23">elitekit23</option>
        <option value="elitekit24">elitekit24</option>
        <option value="elitekit25">elitekit25</option>
        <option value="elitekit26">elitekit26</option>
        <option value="elitekit27">elitekit27</option>
        <option value="elitekit28">elitekit28</option>
        <option value="elitekit29">elitekit29</option>
        <option value="elitekit30">elitekit30</option>
        <option value="elitekit31">elitekit31</option>
        <option value="elitekit32">elitekit32</option>
        <option value="elitekit33">elitekit33</option>
        <option value="elitekit34">elitekit34</option>
        <option value="elitekit35">elitekit35</option>
        <option value="elitekit36">elitekit36</option>
        <option value="elitekit37">elitekit37</option>
        <option value="elitekit38">elitekit38</option>
        <option value="elitekit39">elitekit39</option>
        <option value="elitekit40">elitekit40</option>
        <option value="elitekit41">elitekit41</option>
        <option value="elitekit42">elitekit42</option>
        <option value="elitekit43">elitekit43</option>
        <option value="elitekit44">elitekit44</option>
    </select>
    

    <label for="category">Select category:</label>
    <select id="category">
        <option value="">-- Choose a category --</option>
        
    </select>
    <div class="main-slots">
    <h3>Wear</h3>
    <div class="small-slot" data-type="wear"></div>
    <div class="small-slot" data-type="wear"></div>
    <div class="small-slot" data-type="wear"></div>
    <div class="small-slot" data-type="wear"></div>
    <div class="small-slot" data-type="wear"></div>
    <div class="small-slot" data-type="wear"></div>
    <div class="small-slot" data-type="wear"></div>

    
    <h3>Main</h3>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>
    <div class="main-slot" data-type="main"></div>

    
    <h3>Belt</h3>
    <div class="main-slot" data-type="belt"></div>
    <div class="main-slot" data-type="belt"></div>
    <div class="main-slot" data-type="belt"></div>
    <div class="main-slot" data-type="belt"></div>
    <div class="main-slot" data-type="belt"></div>
    <div class="main-slot" data-type="belt"></div>
</div>

    <label for="itemQuantity">Quantity:</label>
    <input type="number" id="itemQuantity" value="1" min="1" />

    <div class="image-container" id="itemGallery"></div>
    
    <button id="finalizeKit">Finish Kit</button>
    <button id="copyCommands">Copy kit commands</button>
    <button id="newKit">New Kit</button>
    <div id="command_list"></div>

    <script src="Items.js"></script>
<script>
    window.onload = function() {
        console.log(items); // Verifica que todos los elementos se carguen correctamente
        loadCategories();
    };

    function loadCategories() {
        const categorySelect = document.getElementById('category');
        Object.keys(items).forEach(category => {
            const option = document.createElement('option');
            option.value = category;
            option.textContent = category;
            categorySelect.appendChild(option);
        });
    }

    document.getElementById('category').addEventListener('change', (event) => {
        const category = event.target.value;
        const itemGallery = document.getElementById('itemGallery');
        itemGallery.innerHTML = '';

        if (category && items[category]) {
            items[category].forEach(item => {
                const imageItem = document.createElement('div');
                imageItem.className = 'image-item';

                const img = document.createElement('img');
                img.src = `images/${item.id}.png`;
                img.alt = item.name;
                img.draggable = true;

                // Manejo del arrastre para PC
                img.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', JSON.stringify({ id: item.id, name: item.name }));
                });

                // Manejo del toque para móviles
                img.addEventListener('touchstart', (e) => {
                    e.preventDefault(); // Evita que se muestre información
                    const touch = e.touches[0];
                    img.style.position = 'absolute';
                    img.style.left = `${touch.clientX - 50}px`;
                    img.style.top = `${touch.clientY - 50}px`;

                    const onTouchMove = (moveEvent) => {
                        moveEvent.preventDefault();
                        img.style.left = `${moveEvent.touches[0].clientX - 50}px`;
                        img.style.top = `${moveEvent.touches[0].clientY - 50}px`;
                    };

                    const onTouchEnd = (endEvent) => {
                        // Aquí puedes manejar el final del arrastre si lo necesitas
                        document.removeEventListener('touchmove', onTouchMove);
                        document.removeEventListener('touchend', onTouchEnd);
                    };

                    document.addEventListener('touchmove', onTouchMove);
                    document.addEventListener('touchend', onTouchEnd);
                });

                imageItem.appendChild(img);
                itemGallery.appendChild(imageItem);
            });
        }
    });

    const slots = document.querySelectorAll('.main-slot, .small-slot');
    slots.forEach(slot => {
        slot.addEventListener('dragover', (e) => {
            e.preventDefault();
        });

        slot.addEventListener('drop', (e) => {
            e.preventDefault();
            const data = JSON.parse(e.dataTransfer.getData('text/plain'));
            const quantity = document.getElementById('itemQuantity').value;

            if (quantity > 1) {
                slot.innerHTML = `<img src="images/${data.id}.png" style="width: 40px;"/> x${quantity}`;
            } else {
                slot.innerHTML = `<img src="images/${data.id}.png" style="width: 40px;"/>`;
            }
            slot.dataset.id = data.id;
            slot.dataset.quantity = quantity;
            slot.dataset.type = slot.dataset.type;
        });
    });

    document.getElementById('finalizeKit').addEventListener('click', () => {
        const commands = [];
        const kitName = document.getElementById('kitName').value || document.getElementById('kaosList').value;
        slots.forEach(slot => {
            if (slot.dataset.id) {
                const itemId = slot.dataset.id;
                const quantity = slot.dataset.quantity;
                const itemType = slot.dataset.type;
                commands.push(`kit add ${kitName} ${itemId} ${quantity} 1 ${itemType}`);
            }
        });
        document.getElementById('command_list').innerText = commands.join('\n');
    });

    document.getElementById('copyCommands').addEventListener('click', () => {
        const commandList = document.getElementById('command_list');
        navigator.clipboard.writeText(commandList.innerText).then(() => {
            alert('Comandos copiados al portapapeles!');
        }).catch(err => {
            console.error('Error al copiar: ', err);
        });
    });

    document.getElementById('newKit').addEventListener('click', () => {
        document.getElementById('kitName').value = '';
        document.getElementById('kaosList').value = '';
        document.getElementById('category').value = '';
        slots.forEach(slot => {
            slot.innerHTML = '';
            delete slot.dataset.id;
            delete slot.dataset.quantity;
            delete slot.dataset.type;
        });
        document.getElementById('command_list').innerText = '';
        document.getElementById('itemQuantity').value = 1; // Resetear cantidad
    });
</script>

    <footer>
        <p>Hecho por VieraGuti</p>
    </footer>
</body>
</html>
