<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Kits</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1b1b1b;
            color: white;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #ff8c00; /* Color naranja Rust */
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: none;
            border-radius: 5px;
        }
        input, select {
            background-color: #333;
            color: white;
        }
        button {
            background-color: #ff8c00; /* Color naranja Rust */
            cursor: pointer;
        }
        button:hover {
            background-color: #ffaf40; /* Color naranja más claro al pasar el ratón */
        }
        .kit-list {
            margin-top: 20px;
            padding: 10px;
            background-color: #444;
            border-radius: 5px;
        }
        .kit-item {
            border-bottom: 1px solid #555;
            padding: 5px 0;
        }
        .kit-actions {
            display: inline-block;
            margin-left: 10px;
        }
    </style>
</head>
<body>

    <h1>Gestor de Kits</h1>

    <label for="user_name">Escribe tu nombre:</label>
    <input type="text" id="user_name" placeholder="Ej: VieraGuti">

    <label for="kit_name">Selecciona o escribe el nombre del kit:</label>
    <select id="kit_name">
        <option value="">Selecciona un nombre</option>
        <option value="Freekit">Freekit</option>
        <option value="VIPKit">VIPKit</option>
        <option value="EliteKit1">EliteKit1</option>
        <option value="EliteKit2">EliteKit2</option>
        <option value="EliteKit3">EliteKit3</option>
        <option value="EliteKit4">EliteKit4</option>
        <option value="EliteKit5">EliteKit5</option>
        <option value="EliteKit6">EliteKit6</option>
        <option value="EliteKit7">EliteKit7</option>
        <option value="EliteKit8">EliteKit8</option>
        <option value="EliteKit9">EliteKit9</option>
        <option value="EliteKit10">EliteKit10</option>
        <option value="EliteKit11">EliteKit11</option>
        <option value="EliteKit12">EliteKit12</option>
        <option value="EliteKit13">EliteKit13</option>
        <option value="EliteKit14">EliteKit14</option>
        <option value="EliteKit15">EliteKit15</option>
        <option value="EliteKit16">EliteKit16</option>
        <option value="EliteKit17">EliteKit17</option>
        <option value="EliteKit18">EliteKit18</option>
        <option value="EliteKit19">EliteKit19</option>
        <option value="EliteKit20">EliteKit20</option>
        <option value="EliteKit21">EliteKit21</option>
        <option value="EliteKit22">EliteKit22</option>
    </select>
    
    <label for="item_section">Selecciona la sección:</label>
    <select id="item_section" onchange="updateItemList()">
        <option value="none">Selecciona una sección</option>
        <option value="ammo">Municiones</option>
        <option value="weapons">Armas</option>
        <option value="armor">Armaduras</option>
        <option value="clothes">Ropa</option>
        <option value="tools">Herramientas</option>
        <option value="food">Comida</option>
        <option value="resources">Recursos</option>
    </select>

    <label for="item_list">Seleccionar ítem:</label>
    <select id="item_list">
        <option value="none">Selecciona un ítem</option>
        <!-- Aquí se añadirán dinámicamente las opciones -->
    </select>

    <label for="quantity">Cantidad:</label>
    <input type="number" id="quantity" min="1" value="1">

    <button onclick="addKit()">Añadir Kit</button>

    <div class="kit-list" id="kit_list">
        <h2>Lista de Kits</h2>
        <!-- Los kits añadidos se mostrarán aquí -->
    </div>

    <script>
        let commands = [];

        function updateItemList() {
            const section = document.getElementById('item_section').value;
            const itemList = document.getElementById('item_list');
            itemList.innerHTML = `<option value="none">Selecciona un ítem</option>`; // Resetear la lista

            // Aquí simula la carga de ítems desde Items.js
            const items = {
                ammo: [
                    { id: "ammo1", name: "Munición 1" },
                    { id: "ammo2", name: "Munición 2" }
                ],
                weapons: [
                    { id: "weapon1", name: "Espada" },
                    { id: "weapon2", name: "Arco" }
                ],
                armor: [
                    { id: "armor1", name: "Casco" },
                    { id: "armor2", name: "Armadura" }
                ],
                clothes: [
                    { id: "clothes1", name: "Camisa" },
                    { id: "clothes2", name: "Pantalones" }
                ],
                tools: [
                    { id: "tool1", name: "Martillo" },
                    { id: "tool2", name: "Pico" }
                ],
                food: [
                    { id: "food1", name: "Manzana" },
                    { id: "food2", name: "Pan" }
                ],
                resources: [
                    { id: "resource1", name: "Madera" },
                    { id: "resource2", name: "Piedra" }
                ]
            };

            if (section !== "none") {
                items[section].forEach(item => {
                    const option = document.createElement('option');
                    option.value = item.id;
                    option.textContent = item.name;
                    itemList.appendChild(option);
                });
            }
        }

        function addKit() {
            const kitName = document.getElementById('kit_name').value || prompt("Escribe un nombre personalizado para el kit:");
            const itemId = document.getElementById('item_list').value;
            const quantity = document.getElementById('quantity').value;
            const section = document.getElementById('item_section').value;

            if (!kitName || !itemId || section === "none" || quantity <= 0) {
                alert("Por favor, completa todos los campos.");
                return;
            }

            const cmd = `kit add "${kitName}" "${itemId}" ${quantity} ${section}`;
            commands.push(cmd);
            updateKitList();
        }

        function updateKitList() {
            const kitListDiv = document.getElementById('kit_list');
            kitListDiv.innerHTML = '<h2>Lista de Kits</h2>'; // Resetear la lista

            commands.forEach(cmd => {
                const kitItem = document.createElement('div');
                kitItem.className = 'kit-item';
                kitItem.innerHTML = `
                    <strong>${cmd}</strong>
                    <div class="kit-actions">
                        <button onclick="showKitInfo('${cmd}')">(+info)</button>
                        <button onclick="editKit('${cmd}')">Editar</button>
                        <button onclick="copyKit('${cmd}')">Copiar</button>
                        <button onclick="removeKit('${cmd}')">Eliminar</button>
                    </div>
                `;
                kitListDiv.appendChild(kitItem);
            });
        }

        function showKitInfo(cmd) {
            const parts = cmd.split('"');
            const kitName = parts[1]; // Nombre del kit
            const itemName = parts[3]; // Nombre del ítem
            const location = parts[4]; // Ubicación
            const quantity = parts[2]; // Cantidad

            const locMap = {
                "main": "Inventario",
                "wear": "Equipado",
                "belt": "Cinturón"
            };
            alert(`${itemName} (x${quantity}) en ${locMap[location]}`);
        }

        function editKit(cmd) {
            const newCmd = prompt(`Edita el comando del kit:\n${cmd}`);
            if (newCmd) {
                                const index = commands.indexOf(cmd);
                if (index > -1) {
                    commands[index] = newCmd;
                    updateKitList();
                }
            }
        }

        function copyKit(cmd) {
            const count = commands.filter(command => command === cmd).length;
            const message = `Has copiado:\n${cmd}\nCantidad total en el kit: ${count}`;
            navigator.clipboard.writeText(message).then(() => {
                alert("Kit copiado al portapapeles:\n" + message);
            }, () => {
                alert("Error al copiar el kit.");
            });
        }

        function removeKit(cmd) {
            const confirmation = confirm(`¿Estás seguro de que deseas eliminar el siguiente kit?\n${cmd}`);
            if (confirmation) {
                commands = commands.filter(command => command !== cmd);
                updateKitList();
            }
        }
    </script>
</body>
</html>

                    
